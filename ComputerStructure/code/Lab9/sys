add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add  $t0, $zero, $zero      # i = 0 
addi $s4, $zero, 8  # Ñ§ºÅ8Î»
addi $t2, $zero, 7
addi $s5, $zero, 13

firstLoop:
  addi $a0, $zero, 0x20       #Êý×éµØÖ·
  addi $a2, $zero, 0  # j = 0
  bgt  $s4, $t0, secondLoop  # i < 8, secondLoop
  add $zero, $zero, $zero
  add $zero, $zero, $zero
  add $zero, $zero, $zero
  beq $t0, $s4, shift  # i == 8, shift
  
secondLoop:
  add $zero, $zero, $zero
  add $zero, $zero, $zero
  add $zero, $zero, $zero
  beq $a2, $t2, store  # j == 7, store
  lw $v0, 0($a0)
  lw $v1, 4($a0)
  add $zero, $zero, $zero
  add $zero, $zero, $zero
  add $zero, $zero, $zero
  bgt  $v0, $v1, swap 
  addi $a0, $a0, 4
  addi $a2, $a2, 1 # j++
  j secondLoop

store:
  add  $s1, $zero, $zero
  addi $v0, $zero, 0x20
  addi $v1, $zero, 0x40

process:
  add $zero, $zero, $zero
  add $zero, $zero, $zero
  lw     $s2, 0($v0)
  add $zero, $zero, $zero
  or     $s1, $s1, $s2
  addi   $v0, $v0, 4
  beq    $v0, $v1, endstore
  sll    $s1, $s1, 4
  add $zero, $zero, $zero
  add $zero, $zero, $zero
  j process

endstore:
  add $zero, $zero, $zero
  add $zero, $zero, $zero
  sll     $v0, $t0, 2
  sw    $s1,  64($v0)
  j nextLoop

nextLoop:
  add $zero, $zero, $zero
  addi $t0, $t0, 1  # i++
  j firstLoop

swap:
  sw $v0, 4($a0)
  sw $v1, 0($a0)
  addi $a0, $a0, 4
  addi $a2, $a2, 1 # j++
  j secondLoop

shift:  
  addi $a0, $zero, 0x5C       #Êý×éµØÖ·
  lw    $t1,   0($a0)
  addi $a0, $zero, 0x20 
  sw   $t1,   0($a0)
  add  $t0, $zero, $zero 
  j  thirdloop

thirdloop:
 beq $t0, $s5, init
 lw   $t3, 0($a0)
 
 srl   $t4, $t3, 28
 sll   $t3, $t3, 4
 add $t3, $t3, $t4
 sw   $t3, 4($a0)
 addi $a0, $a0, 4
 addi $t0, $t0, 1
 j thirdloop

init:
 add $t0, $zero, $zero
 add $s2, $zero, $zero
 add $s4, $zero, $zero
 add $t2, $zero, $zero
 add $a0, $zero, $zero
 add $a1, $zero, $zero
 add $a2, $zero, $zero
 add $v0, $zero, $zero
 add $v1, $zero, $zero
 add $s1, $zero, $zero
 add $s5, $zero, $zero
 add $t1, $zero, $zero
 add $t3, $zero, $zero
 add $t4, $zero, $zero
 add $t5, $zero, $zero

j start
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
start: lui $v1, 0xf000 #r3=0xF0000000
lui $a0, 0xe000 #r4=0xE0000000
lui $t0, 0x8000 #r8=0x80000000
addi $s4, $zero, 0x003f #r20=0x0000003F
lui $a2, 0xf800 #r6=0xf8000000
nor $at, $zero, $zero #r1=0xFFFFFFFF
slt $v0, $zero, $at #r2=0x00000001 unsigned slt
addi $t2, $at, -1 #r10=0xFFFFFFFE
sw $a2, 4($v1) # è®¡æ•°å™¨ç«¯å? :F0000004 ï¼Œé?è®¡æ•°å¸¸æ•? r6=0xf8000000
lw $a1, 0($v1) # è¯? GPIO ç«¯å£ F0000000 çŠ¶æ??
add $a1, $a1, $a1 # å·¦ç§»
add $a1, $a1, $a1 # å·¦ç§» 2 ä½å°† SW ä¸? LED å¯¹é½ï¼ŒåŒæ—? D1D0 ç½? 00 ï¼Œé?‰æ‹©è®¡æ•°å™¨é?šé“ 0
sw $a1, 0($v1) #r5 è¾“å‡ºåˆ? GPIO ç«¯å£ 0xF0000000 ï¼Œè®¾ç½®è®¡æ•°å™¨é€šé“ counter_set=00
addi $t1, $t1, 1 #r9=r9+1
sw $t1, 0($a0) #r9 é€? r4=0xE0000000 ä¸ƒæ®µç ç«¯å?
lw $t5, 20($zero) # å–å­˜å‚¨å™¨ 20 å•å…ƒé¢„å­˜æ•°æ®è‡? r13(5 å·å­— ), ç¨‹åºè®¡æ•°å»¶æ—¶å¸¸æ•°
Loop: lw $a1, 0($v1) # è¯? GPIO ç«¯å£ F0000000 çŠ¶æ??
add $a1, $a1, $a1 # å·¦ç§»
add $a1, $a1, $a1 # å·¦ç§» 2 ä½å°† SW ä¸? LED å¯¹é½ï¼ŒåŒæ—? D1D0 ç½? 00 ï¼Œé?‰æ‹©è®¡æ•°å™¨é?šé“ 0
sw $a1, 0($v1) #r5 è¾“å‡ºåˆ? GPIO ç«¯å£ 0xF0000000 ï¼Œè®¡æ•°å™¨é€šé“ counter_set=00 ç«¯å£
lw $a1, 0($v1) # å†è¯» GPIO ç«¯å£ 0xF0000000 çŠ¶æ??
and $t3,$a1,$t0 # å–æœ€é«˜ä½ =out0 ï¼Œå±è”½å…¶ä½™ä½é€? r11
addi $t5, $t5,1 # ç¨‹åºè®¡æ•°å»¶æ—¶
bne $t5, $zero, Disp
jal Next
Disp: lw $a1, 0($v1) # è¯? GPIO ç«¯å£ F0000000 çŠ¶æ??
addi $s2, $zero, 0x0008 #r18=0x00000008
add $s6, $s2, $s2 #r22=0x00000010
add $s2, $s2, $s6 #r18=0x00000018(00011000b)
and $t3, $a1, $s2 # å? SW[4:3]
beq $t3, $zero, L00 #SW[4:3]=00,7 æ®µæ˜¾ç¤? " ç‚? " å¾ªçŽ¯ç§»ä½ï¼? L00 ï¼? SW0=0
add $zero, $zero, $zero
add $zero, $zero, $zero
add $zero, $zero, $zero
beq $t3, $s2, L11 #SW[4:3]=11,7 æ®µæ˜¾ç¤ºæ˜¾ç¤ºä¸ƒæ®µå›¾å½¢ï¼š L11 ï¼? SW0=0
addi $s2, $zero, 0x0008 #r18=8
beq $t3, $s2, L01 #SW[4:3]=01, ä¸ƒæ®µæ˜¾ç¤ºé¢„ç½®æ•°å­—ï¼? L01 ï¼? SW0=1
sw $t1, 0($a0) #SW[4:3]=10 ï¼Œæ˜¾ç¤? r9 ï¼? SW0=1
j Loop
L00: bne $t2, $at, L3 #r10 ï¼? =r1, è½¬ç§» L3
nor $t2, $zero, $zero #r10=0xffffffff
add $t2, $t2, $t2 #r10=0xfffffffe
L3: sw $t2, 0($a0) #SW[4:3]=00,7 æ®µæ˜¾ç¤ºç‚¹ç§»ä½åŽæ˜¾ç¤?
j Loop
L11: lw $t1, 0x60($s1) #SW[4:3]=11 ï¼Œä»Žå†…å­˜å–é¢„å­˜ä¸ƒæ®µå›¾å½?
sw $t1, 0($a0) #SW[4:3]=11 ï¼Œæ˜¾ç¤ºä¸ƒæ®µå›¾å½?
j Loop
L01: lw $t1, 0x20($s1) #SW[4:3]=01 ï¼Œä»Žå†…å­˜å–é¢„å­˜æ•°å­?
sw $t1, 0($a0) #SW[4:3]=01, ä¸ƒæ®µæ˜¾ç¤ºé¢„ç½®æ•°å­—
j Loop
Next: lw $t5, 20($zero) # å–å­˜å‚¨å™¨ 20 å•å…ƒé¢„å­˜æ•°æ®è‡? r13, ç¨‹åºè®¡æ•°å»¶æ—¶å¸¸æ•°
add $t2, $t2, $t2 #r10=fffffffc ï¼? 7 æ®µå›¾å½¢ç‚¹å·¦ç§»
ori $t2, $t2,1 #r10 æœ«ä½ç½? 1 ï¼Œå¯¹åº”å³ä¸Šè§’ä¸æ˜¾ç¤?
addi $s1, $s1,4 #r17=r17+00000004 ï¼? LED å›¾å½¢è®¿å­˜åœ°å€ +4
and $s1, $s1, $s4 #r17=000000XX ï¼Œå±è”½åœ°å?é«˜ä½ï¼Œåªå? 6 ä½?
add $t1, $t1, $v0 #r9=r9+1
bne $t1, $at, L4 #r9=ffffffff, é‡ç½® r9=5
addi $t1, $t1, 5
L4: lw $a1, 0($v1) # è¯? GPIO ç«¯å£ F0000000 çŠ¶æ??
add $t3,$a1,$a1 # å·¦ç§»
add $t3,$t3,$t3 # å·¦ç§» 2 ä½å°† SW ä¸? LED å¯¹é½ï¼ŒåŒæ—? D1D0 ç½? 00 ï¼Œé?‰æ‹©è®¡æ•°å™¨é?šé“ 0
sw $t3, 0($v1) 
sw $a2, 4($v1) 
jr $ra